"use strict";(globalThis.webpackChunkbpda=globalThis.webpackChunkbpda||[]).push([[5235],{5680(e,t,n){n.d(t,{xA:()=>p,yg:()=>y});var r=n(6540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),s=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},p=function(e){var t=s(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef(function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=s(n),y=a,u=m["".concat(l,".").concat(y)]||m[y]||d[y]||o;return n?r.createElement(u,c(c({ref:t},p),{},{components:n})):r.createElement(u,c({ref:t},p))});function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,c=new Array(o);c[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,c[1]=i;for(var s=2;s<o;s++)c[s]=n[s];return r.createElement.apply(null,c)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5784(e,t,n){n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>s});var r=n(8168),a=(n(6540),n(5680));const o={},c="Empty Interaction",i={unversionedId:"Practical Sessions/Smart Contracts/empty_interaction",id:"Practical Sessions/Smart Contracts/empty_interaction",title:"Empty Interaction",description:"After building the contract, there are two main ways to interact with smart contracts:",source:"@site/docs/Practical Sessions/Smart Contracts/empty_interaction.md",sourceDirName:"Practical Sessions/Smart Contracts",slug:"/Practical Sessions/Smart Contracts/empty_interaction",permalink:"/blockchain-protocols-and-distributed-applications/Practical Sessions/Smart Contracts/empty_interaction",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"The Empty SC",permalink:"/blockchain-protocols-and-distributed-applications/Practical Sessions/Smart Contracts/empty"},next:{title:"The Adder SC",permalink:"/blockchain-protocols-and-distributed-applications/Practical Sessions/Smart Contracts/adder"}},l={},s=[{value:"<code>mxpy</code> interaction",id:"mxpy-interaction",level:2},{value:"Rust Interactor",id:"rust-interactor",level:2},{value:"Practice",id:"practice",level:2}],p={toc:s};function d({components:e,...t}){return(0,a.yg)("wrapper",(0,r.A)({},p,t,{components:e,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"empty-interaction"},"Empty Interaction"),(0,a.yg)("p",null,"After building the contract, there are two main ways to interact with smart contracts:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://docs.multiversx.com/sdk-and-tools/mxpy/smart-contract-interactions"},"via ",(0,a.yg)("inlineCode",{parentName:"a"},"mxpy"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://docs.multiversx.com/developers/meta/interactor/interactors-overview"},"via Rust Interactors"))),(0,a.yg)("h2",{id:"mxpy-interaction"},(0,a.yg)("inlineCode",{parentName:"h2"},"mxpy")," interaction"),(0,a.yg)("p",null,"In the contract's root directory, you will create a file with a descriptive name. For instance, for out contract, which will be uploaded to Devnet, the file might be named: ",(0,a.yg)("inlineCode",{parentName:"p"},"devnet.snippets.sh"),"."),(0,a.yg)("p",null,"Once the contract is built, the WASM bytecode is generated in the ",(0,a.yg)("inlineCode",{parentName:"p"},"output/")," directory, which we will utilize. This will be used within the newly created file:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-sh"},'WASM_PATH="/home/empty/output/empty.wasm"\n')),(0,a.yg)("p",null,"To perform the ",(0,a.yg)("strong",{parentName:"p"},"deployment"),", we will use the special ",(0,a.yg)("inlineCode",{parentName:"p"},"deploy")," function provided by ",(0,a.yg)("inlineCode",{parentName:"p"},"mxpy"),":"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-sh"},'WALLET_PEM="/home/my-wallet.pem"\nPROXY="https://devnet-gateway.multiversx.com"\n\ndeploySC() {\n    mxpy --verbose contract deploy \\\n        --bytecode=${WASM_PATH} \\\n        --pem=${WALLET_PEM} \\\n        --proxy=${PROXY} \\\n        --send || return\n}\n')),(0,a.yg)("p",null,"To deploy the ",(0,a.yg)("strong",{parentName:"p"},"Empty")," smart contract to Devnet, run the following commands in the terminal:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-sh"},"source devnet.snippets.sh\ndeploySC\n")),(0,a.yg)("p",null,"Observe the output logs printed in the terminal. In the response JSON body, you will find the ",(0,a.yg)("inlineCode",{parentName:"p"},"contractAddress")," field, which contains the address of the deployed contract."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n    "emittedTransaction": {\n        "nonce": 19880,\n        "value": "0",\n        "receiver": "erd1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gq4hu",\n        "sender": "erd1qyu5wthldzr8wx5c9ucg8kjagg0jfs53s8nr3zpz3hypefsdd8ssycr6th",\n        "senderUsername": "",\n        "receiverUsername": "",\n        "gasPrice": 1000000000,\n        "gasLimit": 1175521,\n        "data": "MDA2MTczNmQwMTAwMDAwMDAxMGQwMzYwMDAwMDYwMDAwMTdmNjAwMjdmN2YwMDAyM2UwMzAzNjU2ZTc2MGY2NzY1NzQ0ZTc1NmQ0MTcyNjc3NTZkNjU2ZTc0NzMwMDAxMDM2NTZlNzYwYjczNjk2NzZlNjE2YzQ1NzI3MjZmNzIwMDAyMDM2NTZlNzYwZTYzNjg2NTYzNmI0ZTZmNTA2MTc5NmQ2NTZlNzQwMDAwMDMwMzAyMDAwMDA1MDMwMTAwMDMwNjBmMDI3ZjAwNDE5OTgwMDgwYjdmMDA0MWEwODAwODBiMDc0MTA2MDY2ZDY1NmQ2ZjcyNzkwMjAwMDQ2OTZlNjk3NDAwMDMwODYzNjE2YzZjNDI2MTYzNmIwMDA0MDc3NTcwNjc3MjYxNjQ2NTAwMDMwYTVmNWY2NDYxNzQ2MTVmNjU2ZTY0MDMwMDBiNWY1ZjY4NjU2MTcwNWY2MjYxNzM2NTAzMDEwYzAxMDEwYTE4MDIxMjAwMTAwMjEwMDAwNDQwNDE4MDgwMDg0MTE5MTAwMTAwMGIwYjAzMDAwMTBiMGIyMTAxMDA0MTgwODAwODBiMTk3NzcyNmY2ZTY3MjA2ZTc1NmQ2MjY1NzIyMDZmNjYyMDYxNzI2Nzc1NmQ2NTZlNzQ3M0AwNTAwQDA1MDA=",\n        "chainID": "D",\n        "version": 2,\n        "options": 0,\n        "guardian": "",\n        "signature": "447288b50145233850e69b80e90acf5a1b5ad637701313580f0194a99badbf8a3ac556ef54f6e9bc77163b3af83aefa12d8e092d1af95646ee003c6c7cd3530d",\n        "guardianSignature": "",\n        "relayer": "",\n        "relayerSignature": ""\n    },\n    "emittedTransactionData": "0061736d01000000010d036000006000017f60027f7f00023e0303656e760f6765744e756d417267756d656e7473000103656e760b7369676e616c4572726f72000203656e760e636865636b4e6f5061796d656e74000003030200000503010003060f027f00419980080b7f0041a080080b074106066d656d6f7279020004696e697400030863616c6c4261636b0004077570677261646500030a5f5f646174615f656e6403000b5f5f686561705f6261736503010c01010a180212001002100004404180800841191001000b0b0300010b0b210100418080080b1977726f6e67206e756d626572206f6620617267756d656e7473@0500@0500",\n    "emittedTransactionHash": "974b6e2a15002071a6bd7ab6cc6e06d57fad937e9deb1ec04ea3b163789b72fe",\n    "contractAddress": "erd1qqqqqqqqqqqqqpgqtj7xmd533wdnf7ckh5sy8dmjd8r752qdd8ssxdmx09"\n}\n')),(0,a.yg)("h2",{id:"rust-interactor"},"Rust Interactor"),(0,a.yg)("p",null,"Rust interactors are used to interact with the blockchain via Rust."),(0,a.yg)("p",null,"Let's do this for the Empty smart contract. In the contract root run the next command:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"sc-meta all snippets\n")),(0,a.yg)("p",null,"Below, it is the output of the command:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-sh"}," /home/empty\n\nFound 1 contract crates.\n\n(1/1)\nIn /home/empty/meta\nCalling `cargo run snippets`\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.03s\n     Running `/home/empty/target/debug/empty-meta snippets`\n")),(0,a.yg)("p",null,"A new folder ",(0,a.yg)("inlineCode",{parentName:"p"},"interactor")," was created."),(0,a.yg)("p",null,"This will generate code for all the endpoints and view functions you created."),(0,a.yg)("p",null,"As this is a new and separate Rust binary, you must add it to the main ",(0,a.yg)("inlineCode",{parentName:"p"},"Cargo.toml"),"'s members:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-toml"},'[workspace]\nmembers = [\n    ".",\n    "meta",\n    "/home/empty/interactor"\n]\n')),(0,a.yg)("p",null,"Now, you can deploy your contract by running the following command in the `interactor directory."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"$ cargo run deploy\n[...]\nsender's recalled nonce: 10595\n-- tx nonce: 10595\nsc deploy tx hash: a17a4f51305b6f6dd9c01ec4986d0f90266ef560599b15af613e9aadd816e705\ndeploy address: erd1qqqqqqqqqqqqqpgqchszakc8fm44c2rndjh09xeuh829g4tgd8sskk0m5e\n")),(0,a.yg)("h2",{id:"practice"},"Practice"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Create an interactor for you Empty contract.")))}d.isMDXComponent=!0}}]);